<!DOCTYPE html>
<html lang="ja">
  <head>
    <title>social-login-chap2</title>
    <script src="https://www.gstatic.com/firebasejs/9.9.2/firebaseappcompat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.9.2/firebaseauthcompat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/ui/6.0.1/firebaseuiauth__ja.js"></script>
    <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/6.0.1/firebaseuiauth.css" />
    <script src="/__/firebase/init.js"></script>
  </head>
  <body>
    <h1 style="text-align: center">2章サンプルアプリ</h1>
    <div id="firebaseui-auth-container"></div>
    <div id="loader">Loading...</div>
    <script>
      const ui = newfirebaseui.auth.AuthUI(firebase.auth());

      //UIの設定
      constuiConfig = {
        callbacks: {
          signInSuccessWithAuthResult: (authResult, redirectUrl) => true,
          uiShown: () => (document.getElementById("loader").style.display = "none"),
        },
        signInFlow: "popup",
        signInSuccessUrl: "success.html",
        signInOptions: [firebase.auth.GoogleAuthProvider.PROVIDER_ID],
        tosUrl: "404.html",
        privacyPolicyUrl: "404.html",
      };

      ui.start("#firebaseuiauthcontainer", uiConfig);
    </script>
  </body>
</html>
